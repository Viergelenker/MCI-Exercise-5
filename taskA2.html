<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MCI Aufgabe 5</title>
    <link rel="stylesheet" href="app.css"/>
</head>
<body>

<div id="screen" class="screen" style="overflow: hidden">

    <button onclick="openProgramm(pr1)" id="programmIcon1" class="programmIcon">
    </button>
    <button onclick="openProgramm(pr2)" id="programmIcon2" class="programmIcon">

    </button>
    <button onclick="openProgramm(pr3)" id="programmIcon3" class="programmIcon">

    </button>

    <div id="programmWindow1" class="programmWindow" onmousedown="dragstart(this)">

    </div>
    <div id="programmWindow2" class="programmWindow" onmousedown="dragstart(this)">

    </div>
    <div id="programmWindow3" class="programmWindow" onmousedown="dragstart(this)">

    </div>
</div>

<script>
    var screenHeight = window.innerHeight;
    var screenWidth = window.innerWidth;

    var screen = document.getElementById("screen");
    var pr1 = document.getElementById("programmWindow1");
    var pr2 = document.getElementById("programmWindow2");
    var pr3 = document.getElementById("programmWindow3");

    var radius;

    var z_index=6;

    if (screenHeight - screenWidth > 0) {
        radius = screenWidth;

    } else {
        radius = screenHeight;

    }
    screen.style.height = radius + "px";
    screen.style.width = radius + "px";

    function openProgramm(programmNumber) {
        z_index++;
        programmNumber.style.height = (radius-40) + "px";
        programmNumber.style.width = (radius-40) + "px";
        programmNumber.style.display = "block";
        programmNumber.style.zIndex = z_index;
    }

    var elem = document.getElementById('screen');
    elem.addEventListener('mousemove', drag);
    elem.addEventListener('mouseup', dragstop);
    var dragobjekt = null;
    var dragx = 0;
    var dragy = 0;
    var posx = 0;
    var posy = 0;

    function dragstart(element) {
        z_index++;
        dragobjekt = element;
        dragx = posx - dragobjekt.offsetLeft;
        dragy = posy - dragobjekt.offsetTop;
        dragobjekt.style.zIndex = z_index;
    }

    function dragstop() {
        dragobjekt = null;
    }

    function drag(ereignis) {
        posx = document.all ? window.event.clientX : ereignis.pageX;
        posy = document.all ? window.event.clientY : ereignis.pageY;
        if (dragobjekt != null) {
            dragobjekt.style.left = (posx - dragx) + "px";
            dragobjekt.style.top = (posy - dragy) + "px";
        }
    }


</script>
</body>
</html>